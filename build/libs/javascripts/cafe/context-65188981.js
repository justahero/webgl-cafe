(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};namespace("Cafe",function(e){return e.Context=function(){function e(e){this.canvas=e,this._resizeCanvas=t(this._resizeCanvas,this),this.gl=this._initGlContext(e),window.onresize=this._resizeCanvas,this._resizeCanvas()}return e.prototype.setViewport=function(t,e,n,i){return this.gl.viewport(t,e,n,i)},e.prototype.aspect=function(){return this.canvas.width/this.canvas.height},e.prototype.clearBuffer=function(t){return null==t&&(t=Cafe.Color.WHITE),this.gl.clearColor(t.red,t.green,t.blue,t.alpha),this.gl.enable(this.gl.DEPTH_TEST),this.gl.clear(this.gl.COLOR_BUFFER_BIT)},e.prototype.useProgram=function(t){return this.gl.useProgram(t.program)},e.prototype._initGlContext=function(t){var e,n;try{n=t.getContext("experimental-webgl")||t.getContext("webgl")}catch(i){e=i,alert("Unable to initialize WebGl")}return n},e.prototype._resizeCanvas=function(){return this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.setViewport(0,0,this.canvas.width,this.canvas.height)},e}()})}).call(this);